# ============================================================================
# SQLS Configuration File - Complete Reference
# ============================================================================
# Place this file at .sqls/config.yml in your project root directory
# sqls will automatically detect and use this configuration
#
# Documentation: https://github.com/sqls-server/sqls
# ============================================================================

# ----------------------------------------------------------------------------
# GENERAL SETTINGS
# ----------------------------------------------------------------------------

# lowercaseKeywords: Whether to use lowercase for SQL keywords in completions
# Type: boolean
# Default: false
# Example: If true, you'll get "select" instead of "SELECT"
lowercaseKeywords: false

# ----------------------------------------------------------------------------
# DATABASE CONNECTIONS
# ----------------------------------------------------------------------------
# Define one or more database connections
# You can switch between them using :SqlsSwitchConnection command
connections:

  # ==========================================================================
  # PostgreSQL Connection Example
  # ==========================================================================
  - alias: postgres_dev
    driver: postgresql
    # DataSourceName format for PostgreSQL:
    # host=<hostname> port=<port> user=<username> password=<password> dbname=<database> sslmode=<disable|require|verify-ca|verify-full>
    dataSourceName: host=localhost port=5432 user=postgres password=postgres dbname=mydb sslmode=disable
    # Optional: Specify a proto file for gRPC (advanced usage)
    # proto: /path/to/proto/file.proto

  # ==========================================================================
  # MySQL Connection Example
  # ==========================================================================
  - alias: mysql_dev
    driver: mysql
    # DataSourceName format for MySQL:
    # <username>:<password>@tcp(<hostname>:<port>)/<database>?<options>
    # Common options: charset=utf8mb4, parseTime=true, loc=Local
    dataSourceName: root:password@tcp(localhost:3306)/mydb?charset=utf8mb4&parseTime=true

  # ==========================================================================
  # MariaDB Connection Example (uses MySQL driver)
  # ==========================================================================
  - alias: mariadb_dev
    driver: mysql
    dataSourceName: root:password@tcp(localhost:3306)/mydb

  # ==========================================================================
  # SQLite Connection Example
  # ==========================================================================
  - alias: sqlite_local
    driver: sqlite3
    # DataSourceName format for SQLite:
    # /absolute/path/to/database.db
    # or relative path: ./relative/path/to/database.db
    dataSourceName: /path/to/your/database.db

  # ==========================================================================
  # Microsoft SQL Server (MSSQL) Connection Example
  # ==========================================================================
  - alias: mssql_dev
    driver: mssql
    # DataSourceName format for MSSQL:
    # sqlserver://<username>:<password>@<hostname>:<port>?database=<database>&<options>
    # Common options: encrypt=disable, TrustServerCertificate=true
    dataSourceName: sqlserver://sa:YourPassword@localhost:1433?database=mydb&encrypt=disable

  # ==========================================================================
  # H2 Database Connection Example
  # ==========================================================================
  - alias: h2_dev
    driver: h2
    # DataSourceName format for H2:
    # file:/path/to/database
    # or tcp://hostname:port/database
    dataSourceName: file:/path/to/h2/database

  # ==========================================================================
  # Using Environment Variables (Recommended for Sensitive Data)
  # ==========================================================================
  - alias: postgres_prod
    driver: postgresql
    # Reference environment variables with ${VAR_NAME}
    # Set in your shell: export DATABASE_URL="host=prod.example.com..."
    dataSourceName: ${DATABASE_URL}

  # ==========================================================================
  # Connection with Unix Socket (PostgreSQL)
  # ==========================================================================
  - alias: postgres_socket
    driver: postgresql
    # Use host=/path/to/socket for Unix socket connections
    dataSourceName: host=/var/run/postgresql user=myuser dbname=mydb sslmode=disable

  # ==========================================================================
  # Connection with SSL/TLS (PostgreSQL)
  # ==========================================================================
  - alias: postgres_ssl
    driver: postgresql
    # sslmode options: disable, require, verify-ca, verify-full
    # sslrootcert: path to root certificate
    # sslcert: path to client certificate
    # sslkey: path to client key
    dataSourceName: host=secure.example.com port=5432 user=secureuser password=securepass dbname=securedb sslmode=verify-full sslrootcert=/path/to/ca.crt

# ----------------------------------------------------------------------------
# SUPPORTED DRIVERS AND CONNECTION STRING FORMATS
# ----------------------------------------------------------------------------
# 
# POSTGRESQL / POSTGRES:
#   Format: host=<host> port=<port> user=<user> password=<pass> dbname=<db> sslmode=<mode>
#   Optional: sslrootcert=<path> sslcert=<path> sslkey=<path> connect_timeout=<seconds>
#
# MYSQL / MARIADB:
#   Format: <user>:<pass>@tcp(<host>:<port>)/<db>?<options>
#   Options: charset=utf8mb4, parseTime=true, loc=Local, timeout=10s
#
# SQLITE3:
#   Format: /absolute/path/to/file.db
#   Or: file:/path/to/file.db?<options>
#   Options: mode=ro (read-only), mode=rw (read-write), mode=rwc (read-write-create)
#
# MSSQL (SQL Server):
#   Format: sqlserver://<user>:<pass>@<host>:<port>?database=<db>&<options>
#   Options: encrypt=disable, TrustServerCertificate=true, connection timeout=30
#
# H2:
#   Format: file:/path/to/database (embedded)
#   Or: tcp://<host>:<port>/<database> (server mode)
#
# ----------------------------------------------------------------------------
# FIELD DESCRIPTIONS
# ----------------------------------------------------------------------------
#
# alias (required):
#   A friendly name for this connection. Used in :SqlsShowConnections
#   and :SqlsSwitchConnection commands.
#
# driver (required):
#   The database driver to use. Options: postgresql, mysql, sqlite3, mssql, h2
#   Note: 'postgres' is an alias for 'postgresql'
#
# dataSourceName (required):
#   The connection string for the database. Format varies by driver.
#   Can include environment variables using ${VAR_NAME} syntax.
#
# proto (optional):
#   Path to a Protocol Buffer .proto file for gRPC services (advanced usage)
#
# ----------------------------------------------------------------------------
# USAGE NOTES
# ----------------------------------------------------------------------------
#
# 1. Create this file at the root of your project: <project>/.sqls/config.yml
#
# 2. Security Best Practices:
#    - Add .sqls/config.yml to your .gitignore to avoid committing credentials
#    - Use environment variables for sensitive data (passwords, hosts)
#    - Use .env files with tools like direnv for project-specific env vars
#
# 3. Available Commands in Neovim:
#    :SqlsExecuteQuery           - Execute the SQL query under cursor
#    :SqlsExecuteQueryVertical   - Execute query with vertical output
#    :SqlsShowDatabases          - List available databases
#    :SqlsShowSchemas            - Show database schemas
#    :SqlsShowConnections        - Show all configured connections
#    :SqlsSwitchDatabase         - Switch to a different database
#    :SqlsSwitchConnection       - Switch to a different connection
#
# 4. Completion Features:
#    - Table names from your database
#    - Column names with type information
#    - SQL functions and keywords
#    - Schema-aware completions
#    - Hover documentation for tables/columns
#
# 5. Multiple Connections:
#    - Define multiple connections for different environments (dev, staging, prod)
#    - Switch between them without restarting Neovim
#    - Each SQL buffer can use a different connection
#
# ============================================================================
